(ns advent-of-code-2019.day-16-test
  (:require [clojure.test :as test]
            [advent-of-code-2019.day-16 :as sut]))

(test/deftest patterns
  (test/is (= '(1 0 -1 0 1 0 -1 0 1 0 -1 0 1 0 -1 0 1 0 -1 0)
              (take 20 (sut/build-fft-pattern 0))))
  (test/is (= '(0 1 1 0 0 -1 -1 0 0 1 1 0 0 -1 -1 0 0 1 1 0)
              (take 20 (sut/build-fft-pattern 1))))
  (test/is (= '(0 0 0 1 1 1 1 0 0 0 0 -1 -1 -1 -1 0 0 0 0 1)
              (take 20 (sut/build-fft-pattern 3)))))

(test/deftest part-1
  (test/is (= "68317988142413169339310524228226679602917087098508250749718113526587419817178505959776235516335934551743302238508286572802810069794115364149426576224985753819327303272190533611846154985691127798572530343631606663520373256212911378314036013488799810660919501480452893898432771817639366289455452437825845549580454728197213336349892909492986068300235594855042988602253733683264861130459387385539853665493704391476100557604467165905438510792038489130602683323352155373460889239293592715264810723228578336580592599064190220196310557070957285362925495079190362612648638489948651341258452126289203904151332412099684795339802093240386212152664288237128621872"
              (sut/fft "59727310424796235189476878806940387435291429226818921130171187957262146115559932358924341808253400617220924411865224341744614706346865536561788244183609411225788501102400269978290670307147139438239865673058478091682748114942700860895620690690625512670966265975462089087644554004423208369517716075591723905075838513598360188150158989179151879406086757964381549720210763972463291801513250953430219653258827586382953297392567981587028568433943223260723561880121205475323894070000380258122357270847092900809245133752093782889315244091880516672127950518799757198383131025701009960944008679555864631340867924665650332161673274408001712152664733237178121872" 100))))
